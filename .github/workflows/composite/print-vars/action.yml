name: Test Composite
description: "How do composites work?"

inputs:
  env-name:
    required: false
    default: "default"
  password:
    required: true

runs:
  using: "composite"
  steps:
    defaults:
      run:
        shell: bash

    - name: Display Input
      run: echo "env-name -- ${{ inputs.env-name }}"

    # - name: Display Vars
    #   run: echo "ENV_CHECK -- ${{ vars.ENV_CHECK }}"

    - name: Verify Password
      run: |
          # echo Password is ${{ inputs.password }}
          if [[ ${{ inputs.password }} == *"INT"* ]]
          then
            echo "This is the INT password!"
          elif [[ ${{ inputs.password }} == *"QA"* ]]
          then
            echo "This is the QA password!"
          elif [[ ${{ inputs.password }} == *"PRD"* ]]
          then
            echo "This is the PRD password!"
          elif [[ ${{ inputs.password }} == *"DEFAULT"* ]]
          then
            echo "This is the DEFAULT password!"
          else
            echo "This is NOT a stored password!"
          fi
